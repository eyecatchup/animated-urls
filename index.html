<!-- Inspired by https://twitter.com/nealagarwal/status/1293578708247248897 -->
<ul>
    <li><a href="./">Home</a></li>
    <li><a href="./about-our-team">About</a></li>
    <li><a href="./career-center">Career</a></li>
</ul>

<script>
    (function() {
        let clickblocked = false

        document.querySelectorAll("a").forEach(a => {
            a.onclick = function(e) {
                e.preventDefault()

                if (clickblocked || location.pathname === e.target.pathname) return
                clickblocked = true

                const speed = 75,
                    currentPath = location.pathname,
                    targetPath = e.target.pathname
                let i = 0

                const destruct = setInterval(function() {
                    i++
                    history.replaceState({}, '', currentPath.substring(0, currentPath.length - i) + 'ðŸ”¨ðŸ‘·')
                    if (i === currentPath.length) {
                        history.replaceState({}, '', location.href.replace('%F0%9F%94%A8%F0%9F%91%B7', ''))
                        clearInterval(destruct)
                        i = 0
                        const construct = setInterval(function() {
                            i++
                            history.replaceState({}, '', targetPath.substring(0, i) + 'ðŸ§±ðŸ‘·')
                            if (i === targetPath.length) {
                                history.replaceState({}, '', location.href.replace('%F0%9F%A7%B1%F0%9F%91%B7', ''))
                                clickblocked = false
                                clearInterval(construct)
                            }
                        }, speed)
                    }
                }, speed)

            }
        })
    })();
</script>
